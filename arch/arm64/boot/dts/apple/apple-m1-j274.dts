/dts-v1/;

/ {
    model = "Mac mini (M1, 2020)";
    compatible = "apple,m1";

    hardware-model = "J274";

    interrupt-parent = <&aic>;
    #address-cells = <2>;
    #size-cells = <2>;

    aliases {
        serial0 = &uart0;
    };

    chosen {
        bootargs = "earlycon=apple_uart,0x235200000 console=tty0";
    };

    memory@800000000 {
        device_type = "memory";
        reg = <0x8 0x00000000 0x2 0x00000000>;
    };

    framebuffer@9e0df8000 {
        compatible = "simple-framebuffer";
        reg = <0x9 0xe0df8000 0x0 0x1500000>;
        format = "x2r10g10b10";
        height = <1080>;
        stride = <7680>;
        width = <1920>;
        status = "okay";
    };

    reserved-memory {
        #address-cells = <0x2>;
        #size-cells = <0x2>;
        ranges;

        fw_area@800000000 {
            reg = <0x8 0x00000000 0x0 0x01000000>;
            no-map;
        };

        fw_area@9e0000000 {
            reg = <0x9 0xd0000000 0x0 0x30000000>;
            no-map;
        };

        smpentry@803400000 {
            reg = <0x8 0x03400000 0x0 0x4000>;
            no-map;
        };
    };

    cpus {
        #address-cells = <1>;
        #size-cells = <0>;

        cpu@0 {
            device_type = "cpu";
            compatible = "apple,icestorm";
            reg = <0>;
            enable-method = "apple,startcpu";
        };

        cpu@1 {
            device_type = "cpu";
            compatible = "apple,icestorm";
            reg = <1>;
            enable-method = "apple,startcpu";
        };

        cpu@2 {
            device_type = "cpu";
            compatible = "apple,icestorm";
            reg = <2>;
            enable-method = "apple,startcpu";
        };

        cpu@3 {
            device_type = "cpu";
            compatible = "apple,icestorm";
            reg = <3>;
            enable-method = "apple,startcpu";
        };

        cpu@4 {
            device_type = "cpu";
            compatible = "apple,firestorm";
            reg = <0x10100>;
            enable-method = "apple,startcpu";
        };

        cpu@5 {
            device_type = "cpu";
            compatible = "apple,firestorm";
            reg = <0x10101>;
            enable-method = "apple,startcpu";
        };

        cpu@6 {
            device_type = "cpu";
            compatible = "apple,firestorm";
            reg = <0x10102>;
            enable-method = "apple,startcpu";
        };

        cpu@7 {
            device_type = "cpu";
            compatible = "apple,firestorm";
            reg = <0x10103>;
            enable-method = "apple,startcpu";
        };
    };

    refclk24mhz: refclk24mhz {
        compatible = "fixed-clock";
        #clock-cells = <0>;
        clock-frequency = <24000000>;
        clock-output-names = "refclk24mhz";
    };

    refclk100mhz: refclk100mhz {
        compatible = "fixed-clock";
        #clock-cells = <0>;
        clock-frequency = <100000000>;
        clock-output-names = "refclk100mhz";
    };

    timer {
        compatible = "arm,armv8-timer";
        interrupts = <1 1 0xf08   1 0 0xf08>;
        clock-frequency = <24000000>;
    };

    soc {
        compatible = "simple-bus";
        #address-cells = <2>;
        #size-cells = <2>;
        ranges;

        applestart: applestart@23b754004 {
            compatible = "apple,startcpu";
            reg = <0x2 0x3b754004 0x0 0xc   0x2 0x10050000 0x0 0x8   0x2 0x10030fb0 0x0 0x4
                   0x2 0x3b754004 0x0 0xc   0x2 0x10150000 0x0 0x8   0x2 0x10130fb0 0x0 0x4
                   0x2 0x3b754004 0x0 0xc   0x2 0x10250000 0x0 0x8   0x2 0x10230fb0 0x0 0x4
                   0x2 0x3b754004 0x0 0xc   0x2 0x10350000 0x0 0x8   0x2 0x10330fb0 0x0 0x4
                   0x2 0x3b754004 0x0 0xc   0x2 0x11050000 0x0 0x8   0x2 0x11030fb0 0x0 0x4
                   0x2 0x3b754004 0x0 0xc   0x2 0x11150000 0x0 0x8   0x2 0x11130fb0 0x0 0x4
                   0x2 0x3b754004 0x0 0xc   0x2 0x11250000 0x0 0x8   0x2 0x11230fb0 0x0 0x4
                   0x2 0x3b754004 0x0 0xc   0x2 0x11350000 0x0 0x8   0x2 0x11330fb0 0x0 0x4>;
        };

        aic: interrupt-controller@23b100000 {
            compatible = "apple,aic";
            #interrupt-cells = <3>;
            interrupt-controller;
            reg = <0x2 0x3b100000 0x0 0x8000>;
            fast-ipi;
        };

        uart0: serial@235200000 {
            compatible = "apple,uart";
            reg = <0x2 0x35200000 0x0 0x4000>;
            interrupts = <0 605 4>;
            clocks = <&refclk24mhz>;
            clock-names = "refclk";
            index = <0>;
        };
    };
};
